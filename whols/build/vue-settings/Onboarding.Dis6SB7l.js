import{_ as x,u as V,S as I,H as N,s as R,w as U,a as q}from"./main.js";import{f as v,m as k,o as c,x as t,g as S,q as P,k as a,A as s,l as n,u as _,Y as z,t as B,W as T,F,v as E,B as H,z as M,c as $,r as O,ac as A,H as D,aj as Y,C as j,_ as Q}from"./element-plus.KLX0fxuG.js";const G={class:"whols-onboarding-controls"},J={class:"back-button-wrapper"},K={class:"action-buttons"},X={__name:"OnboardingControls",props:{showBack:{type:Boolean,default:!0},showSkip:{type:Boolean,default:!0},canProceed:{type:Boolean,default:!0},isLastStep:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["proceed","back","skip"],setup(i,{emit:d}){const r=d;return(l,o)=>{const u=v("el-icon"),m=v("el-button");return c(),k("div",G,[t("div",J,[i.showBack?(c(),S(m,{key:0,onClick:o[0]||(o[0]=f=>r("back")),type:"text",class:"back-button"},{default:a(()=>[s(u,{class:"el-icon--left"},{default:a(()=>[s(_(z))]),_:1}),o[3]||(o[3]=n(" Back "))]),_:1})):P("",!0)]),t("div",K,[i.showSkip?(c(),S(m,{key:0,onClick:o[1]||(o[1]=f=>r("skip")),plain:"",class:"skip-button",size:"large"},{default:a(()=>o[4]||(o[4]=[n(" Skip for now ")])),_:1})):P("",!0),s(m,{type:"primary",onClick:o[2]||(o[2]=f=>r("proceed")),disabled:!i.canProceed||i.loading,class:"proceed-button",size:"large",loading:i.loading},{default:a(()=>[n(B(i.loading&&i.isLastStep?"Redirecting...":i.isLastStep?"Finish":"Continue")+" ",1),!i.isLastStep&&!i.loading?(c(),S(u,{key:0,class:"el-icon--right"},{default:a(()=>[s(_(T))]),_:1})):P("",!0)]),_:1},8,["disabled","loading"])])])}}},L=x(X,[["__scopeId","data-v-fd31971b"]]),Z={class:"whols-onboarding-header"},ee={class:"whols-onboarding-steps"},te={class:"step-number"},se={class:"step-title"},oe={__name:"OnboardingHeader",props:{steps:{type:Array,required:!0},currentStep:{type:String,required:!0},isStepCompleted:{type:Function,required:!0}},setup(i){return(d,r)=>{const l=v("el-icon");return c(),k("div",Z,[t("div",ee,[(c(!0),k(F,null,E(i.steps,(o,u)=>(c(),k("div",{key:o.id,class:H(["step",{active:i.currentStep===o.id,completed:i.isStepCompleted(o.id)&&i.currentStep!==o.id}])},[t("div",te,[i.isStepCompleted(o.id)&&i.currentStep!==o.id?(c(),S(l,{key:0,class:"done"},{default:a(()=>[s(_(M))]),_:1})):(c(),k(F,{key:1},[n(B(u+1),1)],64))]),t("div",se,B(o.label),1)],2))),128))])])}}},ae=x(oe,[["__scopeId","data-v-bf544871"]]),ne="/wp-content/plugins/whols/build/vue-settings/logo.png",le={class:"whols-welcome-step"},ie={class:"whols-logo"},de={class:"logo-container"},re=["src"],ce={class:"whols-proceed-button"},ue={class:"whols-skip-text"},pe={class:"whols-info-text"},me={__name:"Welcome",emits:["proceed","back","skip"],setup(i,{emit:d}){const r=V();$(()=>!0);const l=async()=>{r.commit("onboarding/setDataConsent",!0),h("proceed")},o=()=>{h("skip")},u=O(!1),m=()=>{u.value=!0},f=y=>{u.value=!1,y()},h=d;return(y,e)=>{const p=v("el-icon"),g=v("el-button"),w=v("el-text"),b=v("el-dialog");return c(),k(F,null,[t("div",le,[t("div",ie,[t("div",de,[t("img",{src:_(ne),alt:"Whols Pro",class:"whols-logo-image"},null,8,re)])]),e[5]||(e[5]=A('<div class="welcome-content" data-v-da2a7dcf><h1 class="welcome-title" data-v-da2a7dcf>Welcome to Whols</h1><p class="welcome-description" data-v-da2a7dcf> Let&#39;s set up your wholesale store in just a few simple steps. We&#39;ll help you configure all the essential features you need to get started. </p><div class="feature-highlights" data-v-da2a7dcf><div class="feature-item" data-v-da2a7dcf><div class="feature-icon" data-v-da2a7dcf>üöÄ</div><div class="feature-text" data-v-da2a7dcf>Quick setup process</div></div><div class="feature-item" data-v-da2a7dcf><div class="feature-icon" data-v-da2a7dcf>‚öôÔ∏è</div><div class="feature-text" data-v-da2a7dcf>Essential configurations</div></div><div class="feature-item" data-v-da2a7dcf><div class="feature-icon" data-v-da2a7dcf>‚ö°</div><div class="feature-text" data-v-da2a7dcf>Ready-to-use store</div></div></div></div>',1)),t("div",ce,[s(g,{type:"primary",size:"large",onClick:l},{default:a(()=>[e[1]||(e[1]=n(" Proceed To Next Step ")),s(p,{class:"el-icon--right"},{default:a(()=>[s(_(T))]),_:1})]),_:1})]),t("p",ue,[s(w,{class:"mx-1",tag:"ins",onClick:o},{default:a(()=>e[2]||(e[2]=[n("Skip It")])),_:1})]),t("p",pe,[s(p,{color:"#e6a23c",size:"16px"},{default:a(()=>[s(_(D))]),_:1}),e[4]||(e[4]=n(" By proceeding, you grant permission for this plugin to collect your information. ¬† ")),s(w,{class:"collect-text",tag:"ins",onClick:m},{default:a(()=>e[3]||(e[3]=[n("Find out what we collect?")])),_:1})])]),s(b,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=C=>u.value=C),title:"What we collect?","align-center":"",width:"50%","before-close":f},{default:a(()=>e[6]||(e[6]=[t("div",null,[t("p",null,[n("At "),t("strong",null,"WHOLS"),n(", we prioritize continuous improvement and compatibility. To achieve this, we gather non-sensitive diagnostic information and details about plugin usage. This includes your site's URL, the versions of WordPress and PHP you're using, and a list of your installed plugins and themes. We also require your email address to provide you with exclusive discount coupons and updates. This data collection is crucial for ensuring that "),t("strong",null,"WHOLS"),n(" remains up-to-date and compatible with the most widely-used plugins and themes. Rest assured, your privacy is our priority ‚Äì no spam, guaranteed.")]),t("p",{class:"mt-3"},"Server information (Web server, PHP version, MySQL version), WordPress information, site name, site URL, number of plugins, number of users, your name, and email address. You can rest assured that no sensitive data will be collected or tracked.")],-1)])),_:1},8,["modelValue"])],64)}}},W=x(me,[["__scopeId","data-v-da2a7dcf"]]),fe={class:"whols-features-step"},ge={class:"features-grid-area"},ve={class:"features-grid"},_e={class:"card-header"},he={class:"card-header"},we={class:"card-header"},be={class:"card-header"},ke={class:"card-header"},ye={class:"card-header"},Se={__name:"Features",emits:["proceed","back","skip"],setup(i,{emit:d}){const r=d,l=V(),o=$(()=>l.state.onboarding.config),u=async()=>{r("proceed")},m=()=>{r("back")},f=()=>{r("skip")},h=()=>{l.commit("setDisplayProModal",!0)};return(y,e)=>{const p=v("el-switch"),g=v("el-card"),w=v("el-tag");return c(),k("div",fe,[e[18]||(e[18]=t("h1",{class:"step-title"},"Choose Your Features",-1)),e[19]||(e[19]=t("p",{class:"step-description"}," Select the features you want to enable for your wholesale store. ",-1)),t("div",ge,[t("div",ve,[s(g,{class:"feature-card",shadow:"hover"},{header:a(()=>[t("div",_e,[e[3]||(e[3]=t("h3",null,"Request a Quote",-1)),s(p,{modelValue:o.value.enable_request_a_quote,"onUpdate:modelValue":e[0]||(e[0]=b=>o.value.enable_request_a_quote=b),"active-value":"1","inactive-value":"0","active-text":"ON","inactive-text":"OFF","inline-prompt":""},null,8,["modelValue"])])]),default:a(()=>[e[4]||(e[4]=t("div",{class:"card-content"},[t("p",null,"Allow customers to request quotes for products instead of direct purchases, perfect for custom or large orders.")],-1))]),_:1}),s(g,{class:"feature-card",shadow:"hover"},{header:a(()=>[t("div",he,[e[5]||(e[5]=t("h3",null,"Bulk Order Form",-1)),s(p,{modelValue:o.value.bof_enabled,"onUpdate:modelValue":e[1]||(e[1]=b=>o.value.bof_enabled=b),"active-value":"1","inactive-value":"0","active-text":"ON","inactive-text":"OFF","inline-prompt":""},null,8,["modelValue"])])]),default:a(()=>[e[6]||(e[6]=t("div",{class:"card-content"},[t("p",null,"Enable a dedicated bulk order form for wholesale customers to quickly place orders for multiple products at once.")],-1))]),_:1}),s(g,{class:"feature-card",shadow:"hover"},{header:a(()=>[t("div",we,[e[7]||(e[7]=t("h3",null,"Save Order List",-1)),s(p,{modelValue:o.value.enable_save_order_list,"onUpdate:modelValue":e[2]||(e[2]=b=>o.value.enable_save_order_list=b),"active-value":"1","inactive-value":"0","active-text":"ON","inactive-text":"OFF","inline-prompt":""},null,8,["modelValue"])])]),default:a(()=>[e[8]||(e[8]=t("div",{class:"card-content"},[t("p",null,"Allow customers to save their order lists for future reference, repeat orders, and simplified purchasing.")],-1))]),_:1}),s(g,{class:"feature-card",shadow:"hover"},{header:a(()=>[t("div",be,[t("h3",null,[e[10]||(e[10]=n("Dynamic Rules ")),(c(),S(w,{key:0,type:"danger",round:"",size:"small"},{default:a(()=>e[9]||(e[9]=[n("PRO")])),_:1}))]),s(p,{"active-text":"ON","inactive-text":"OFF","inline-prompt":"",onClick:h})])]),default:a(()=>[e[11]||(e[11]=t("div",{class:"card-content"},[t("p",null,"Create powerful pricing rules including discounts, fees, and special offers based on cart total, quantities, and customer roles.")],-1))]),_:1}),s(g,{class:"feature-card",shadow:"hover"},{header:a(()=>[t("div",ke,[t("h3",null,[e[13]||(e[13]=n("Conversation ")),(c(),S(w,{key:0,type:"danger",round:"",size:"small"},{default:a(()=>e[12]||(e[12]=[n("PRO")])),_:1}))]),s(p,{"active-text":"ON","inactive-text":"OFF","inline-prompt":"",onClick:h})])]),default:a(()=>[e[14]||(e[14]=t("div",{class:"card-content"},[t("p",null,"Enable direct messaging between customers and store admins to discuss orders, products, and special requirements.")],-1))]),_:1}),s(g,{class:"feature-card",shadow:"hover"},{header:a(()=>[t("div",ye,[t("h3",null,[e[16]||(e[16]=n("Wallet ")),(c(),S(w,{key:0,type:"danger",round:"",size:"small"},{default:a(()=>e[15]||(e[15]=[n("PRO")])),_:1}))]),s(p,{"active-text":"ON","inactive-text":"OFF","inline-prompt":"",onClick:h})])]),default:a(()=>[e[17]||(e[17]=t("div",{class:"card-content"},[t("p",null,"Enable a digital wallet for wholesale customers to add credits and pay with their balance, simplifying and speeding up the checkout process.")],-1))]),_:1})])]),s(L,{"can-proceed":!0,onProceed:u,onBack:m,onSkip:f,"show-skip":!1})])}}},Ce=x(Se,[["__scopeId","data-v-b3ca5147"]]),xe={class:"whols-config-step"},$e={class:"step-description"},Oe={class:"config-item"},Ve={class:"config-item-control"},Pe={class:"config-item"},Be={class:"config-item-label"},Fe={class:"config-item-control"},Le={class:"config-item"},Ne={class:"config-item-label"},We={class:"config-item-control"},qe={__name:"Config",emits:["proceed","back","skip"],setup(i,{emit:d}){const r=V(),l=r.state.onboarding.config;O("wholesalerType"),O("Login to see wholesale prices");const o=O(!1),u=async()=>{var y;try{o.value=!0;const e=r.state.onboarding.config;if(await R.updateSettings(e),r.state.onboarding.dataConsent)try{await fetch("/wp-admin/admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"whols_diagnostic_data",agreed:"yes",nonce:((y=window.wholsDiagnosticData)==null?void 0:y.nonce)||""})})}catch(p){console.error("Error sending diagnostic data:",p)}await U.updateOption("whols_onboarding","complete"),h("proceed"),o.value=!1}catch(e){Y({message:"Failed to save settings: "+(e.message||"Unknown error"),type:"error",duration:3e3,offset:50}),o.value=!1}},m=()=>{h("back")},f=()=>{h("skip")},h=d;return(y,e)=>{const p=v("el-text"),g=v("el-divider"),w=v("el-radio"),b=v("el-radio-group");return c(),k("div",xe,[e[15]||(e[15]=t("h1",{class:"step-title"},"Essential Configuration",-1)),t("p",$e,[e[4]||(e[4]=n(" Configure the essential settings for your wholesale store. ")),e[5]||(e[5]=t("br",null,null,-1)),s(p,{tag:"mark",size:"large"},{default:a(()=>e[3]||(e[3]=[n("These settings can be fine-tuned later in the plugin settings.")])),_:1})]),e[16]||(e[16]=t("div",{class:"section-header"},[t("div",{class:"section-header-content"},[t("p",{class:"section-description"}," Configure the registration process for new wholesale users. ")])],-1)),t("div",Oe,[e[6]||(e[6]=t("div",{class:"config-item-label"},[t("h4",null,"Registration Page"),t("p",null,"Set up a dedicated registration page for wholesale users")],-1)),t("div",Ve,[s(I,{modelValue:_(l).registration_page,"onUpdate:modelValue":e[0]||(e[0]=C=>_(l).registration_page=C),"field-schema":{options:"page",placeholder:"Select a page",filterable:!0},class:"page-select"},null,8,["modelValue"])])]),s(g),t("div",Pe,[t("div",Be,[t("h4",null,[e[7]||(e[7]=n("Test Mode ")),s(N,{content:"Enable Test Mode to show prices only to Admins and Wholesalers. <br> Otherwise you have to login with a wholesale role to see prices. <br> This is useful for testing your store before you launch it."})]),e[8]||(e[8]=t("p",null,"Enable Test Mode to testing your store wholesale pricing before you launch it.",-1))]),t("div",Fe,[s(b,{modelValue:_(l).show_wholesale_price_for,"onUpdate:modelValue":e[1]||(e[1]=C=>_(l).show_wholesale_price_for=C)},{default:a(()=>[s(w,{label:"administrator"},{default:a(()=>e[9]||(e[9]=[n("Yes")])),_:1}),s(w,{label:"only_wholesalers"},{default:a(()=>e[10]||(e[10]=[n("No")])),_:1})]),_:1},8,["modelValue"])])]),s(g),t("div",Le,[t("div",Ne,[t("h4",null,[e[11]||(e[11]=n("Enable Login to View Price ")),s(N,{content:"Hide prices and display a login message instead. <br>This is useful if you want to hide prices from non-wholesale customers or guests."})]),e[12]||(e[12]=t("p",null,"Hide prices from non-wholesale customers or guests.",-1))]),t("div",We,[s(b,{modelValue:_(l).hide_price_for_guest_users,"onUpdate:modelValue":e[2]||(e[2]=C=>_(l).hide_price_for_guest_users=C)},{default:a(()=>[s(w,{label:"1"},{default:a(()=>e[13]||(e[13]=[n("Yes")])),_:1}),s(w,{label:"0"},{default:a(()=>e[14]||(e[14]=[n("No")])),_:1})]),_:1},8,["modelValue"])])]),s(L,{"can-proceed":!0,onProceed:u,loading:o.value,onBack:m,onSkip:f,"show-skip":!1},null,8,["loading"])])}}},Te=x(qe,[["__scopeId","data-v-a8ba5e0e"]]),Ie="/wp-content/plugins/whols/build/vue-settings/onboarding-congratulations-check.png",Re={class:"whols-complete-step"},Ue={class:"success-icon"},ze=["src"],Ee={__name:"Complete",emits:["proceed","back"],setup(i,{emit:d}){V(),q();const r=O(!1),l=async()=>{var m;window.location.href=((m=window.wholsSettings)==null?void 0:m.adminUrl)+"admin.php?page=whols-admin"},o=()=>{u("back")},u=d;return(m,f)=>(c(),k("div",Re,[t("div",Ue,[t("img",{src:_(Ie),alt:"Congratulations Check"},null,8,ze)]),f[0]||(f[0]=t("p",{class:"complete-description"}," You've successfully set up Whols Pro with the essential features. ",-1)),s(L,{"can-proceed":!0,"is-last-step":!0,"show-skip":!1,loading:r.value,onProceed:l,onBack:o},null,8,["loading"])]))}},He=x(Ee,[["__scopeId","data-v-f16d4a8d"]]),Me={class:"whols-onboarding-container"},Ae={class:"whols-onboarding-wrap"},De={class:"whols-onboarding-inner"},Ye={class:"whols-onboarding-content"},je={__name:"Onboarding",setup(i){const d=V(),r=q(),l=$(()=>d.state.onboarding.currentStep);$(()=>d.state.onboarding.completedSteps);const o=$(()=>d.getters["onboarding/getSteps"]),u=e=>d.getters["onboarding/isStepCompleted"](e),m=$(()=>({welcome:W,features:Ce,config:Te,complete:He})[l.value]||W),f=async()=>{if(await d.dispatch("onboarding/completeStep",l.value),l.value==="complete"){r.push("/settings/general");return}const e=o.value.findIndex(g=>g.id===l.value),p=o.value[e+1];p?await d.dispatch("onboarding/setCurrentStep",p.id):await d.dispatch("onboarding/saveOnboardingSettings")&&r.push("/dashboard")},h=async()=>{await d.dispatch("onboarding/goBack")},y=()=>{d.dispatch("onboarding/completeStep",l.value),f()};return j(()=>{l.value||d.dispatch("onboarding/setCurrentStep","welcome")}),(e,p)=>(c(),k("div",Me,[s(ae,{steps:o.value,currentStep:l.value,isStepCompleted:u},null,8,["steps","currentStep"]),t("div",Ae,[t("div",De,[t("div",Ye,[(c(),S(Q(m.value),{onProceed:f,onBack:h,onSkip:y},null,32))])])])]))}},Je=x(je,[["__scopeId","data-v-adc4407a"]]);export{Je as default};
